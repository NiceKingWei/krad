<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="assets/js/phaser.min.js"></script>
  <script type="text/javascript" src="assets/js/CanvasInput.min.js"></script>
  <link href="assets/css/global.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="assets/js/jquery.min.js"></script>
  <link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
  <style>
       #gamecontainer{ height:400px; width: 800px; margin: 0px 0px ;  outline: 1px solid rgb(11, 206, 212); overflow: auto;}
       #cardcontainer{ height:50px; width: 600px; margin: 0px 0px  ; outline: 0px solid rgb(11, 206, 212); overflow: auto ;}
</style>
</head>
<body>
    <div id="gamecontainer"></div>
    <div id="cardcontainer"></div>
  <script>
      var display;
      var display1 = new Array();
      var cursors;
      var map = [{x:143,y:820},{x:164,y:760},{x:185,y:700},{x:206,y:645},{x:227,y:590},{x:248,y:535},{x:269,y:480}];
      
      var game = new Phaser.Game(780, 899, Phaser.CANVAS, 'gamecontainer', {
       preload: function () {
        game.load.image('gamebackground', 'assets/img/gamewindow/gamebackground.png');
        game.load.image('input', 'assets/img/inputbox1.png', 20, 20);
        game.load.image('fighter1','assets/img/gamewindow/fighter2.png');
        game.load.image('fighter2','assets/img/gamewindow/fighter1.png');
        game.load.bitmapFont('chiller', 'assets/fonts/chiller.png', 'assets/fonts/chiller.xml');
      },
      create: function () {
        game.physics.startSystem(Phaser.Physics.P2JS);
        game.world.setBounds(0, 0,game.width, game.height);
        display1[0] = game.add.sprite(164, 760, 'fighter1');
        display1[0].anchor.x=0.5;
        display1[0].anchor.y=0.5;
        game.physics.p2.enable(display1[0]);
        var background = game.add.sprite(0,0,'gamebackground');
        background.smoothed = true;
        background.height = game.height;
        background.width = game.width;
        game.world.setChildIndex(background,1); 
        game.world.setChildIndex(display1[0],1);
        cursors = game.input.keyboard.createCursorKeys();
        game.camera.follow(display1[0], Phaser.Camera.FOLLOW_LOCKON, 0.1, 0.1);
      },
     /*update: function () {
      display1[0].body.setZeroVelocity();
    if (cursors.up.isDown)
    {
        display.body.moveUp(300);
        cursors.up.isDown = false;
    }
    else if (cursors.down.isDown)
    {   
        display.body.moveDown(300);
        cursors.down.isDown = false;
    }

    if (cursors.left.isDown)
    {
        display.body.velocity.x = -300;
        cursors.left.isDown = false;
    }
    else if (cursors.right.isDown)
    {
        display.body.moveRight(300);
        cursors.right.isDown = false;
    }
      }*/
      });

    var card = new Phaser.Game(600, 50, Phaser.CANVAS, 'cardcontainer',{
      preload: function () {
        card.load.image('cardbackground','assets/img/inputbox1.png');
        card.load.spritesheet('button','assets/buttons/button1.png',100,34);
      },
      create: function () {
    var cardbackground = card.add.sprite(0,0,'cardbackground');
        cardbackground.smoothed = true;
        cardbackground.height = card.height;
        cardbackground.width = card.width;
    var movebutton = card.add.button(0,0 , 'button', do_poison ,this, 1, 0, 2, 0);
    var movebutton = card.add.button(100,0 , 'button', do_move ,this, 1, 0, 2, 0);
      },
    });
    function do_move(mark){
      people=0;
      mark=5;
      display1[people].body.x=map[mark].x;
      display1[people].body.y=map[mark].y;
    }
    function do_poison(people){
      people=0;
      var x=display1[people].body.x;
      var y=display1[people].body.y;
      display1[people].kill();
      display1[people] = game.add.sprite(x, y, 'fighter2');
      display1[people].anchor.x=0.5;
      display1[people].anchor.y=0.5;
      game.physics.p2.enable(display1[people]);
      do_silent(people);
      game.world.setChildIndex(display1[people],1);
    }
   function do_silent(people){
    display1[people].body.setZeroVelocity();
   }
</script>
</body>

</html>
